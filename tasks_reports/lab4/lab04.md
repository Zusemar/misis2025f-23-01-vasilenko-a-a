# Лабораторная работа №4: Сегментация

## Задание

Реализовать функционал сегментации изображений:
1. Сегментация целевого изображения (K-means, Watershed)
2. Визуализация результатов сегментации
3. Создание эталона сегментации
4. Оценка качества сегментации (многоклассовая)
5. Визуализация ошибок сегментации

## Исходные данные

- Изображение: `walnut01.0130_converted.png` (501×501 пикселей)
- Расположение: `prj.lab/lab04/`

## Реализованные методы

### 1. K-means сегментация
- Кластеризация пикселей по цвету
- Параметр K (количество кластеров) настраивается
- Быстрый и простой метод

### 2. Watershed сегментация
- Сегментация на основе границ объектов
- Использует distance transform для создания маркеров
- Хорошо разделяет близко расположенные объекты

### 3. Метрики качества
- Precision, Recall, IoU, F1 для каждого класса
- Overall Accuracy, Mean IoU, Mean F1
- Визуализация ошибок (FP, FN, неправильная классификация)

## Результаты

Все результаты сохранены в `prj.lab/lab04/output/`:
- Сегментации (K-means, Watershed)
- Визуализации
- Эталон сегментации
- Метрики качества (CSV)
- Визуализация ошибок

## Использование

```bash
# Сегментация
./build/prj.lab/lab04/task04 part1 input.png output/ 4

# Генерация эталона
./build/prj.lab/lab04/task04 part2 input.png output/

# Оценка качества
./build/prj.lab/lab04/task04 part3 input.png ground_truth.png output/ 4
```

Подробный отчет: `report_lab04.md`


