Сборка

На macOS с установленным OpenCV в системе:

```bash
cmake --build /Users/alex/Documents/misis2025f-23-01-vasilenko-a-a/build --config Release -j
```

Исполняемые файлы появляются в `bin.rel/` (для конфигурации Release) либо в соответствующих папках `bin.*` (см. корневой `CMakeLists.txt`).

`task01-01` — проверка соответствия имён файлов формату растра:

```bash
/Users/alex/Documents/misis2025f-23-01-vasilenko-a-a/bin.rel/task01-01 ./bin.rel/task01-01 prj.lab/lab01/testdata/task01.lst
```
Вывод — по одной строке на файл:

```
/abs/path/img_1.png	good
/abs/path/img_2.tiff	bad, should be 0768x0432.3.uint08
```

`task01-02` - гамма-коррекция gray_bars_8u_768x30 изображения

```bash
./bin.rel/task01-02 prj.lab/lab01/testdata/collage.png
```

#### 2.1 Функция идентификации изображения
Реализована функция:
```cpp
std::string strid_from_mat(const cv::Mat& img, const int n = 4);
```
Функция формирует строку-описатель изображения по шаблону  
**WWWWxHHHH.C.TYPE**,  
где:
- `WWWW` — ширина (n цифр с ведущими нулями);  
- `HHHH` — высота (n цифр);  
- `C` — количество каналов;  
- `TYPE` — тип данных в канале (`uint08`, `sint08`, `uint16`, `sint16`, `sint32`, `real32`, `real64`).

Пример:  
> 0768x0512.3.uint08

#### 2.2 Генерация тестовых изображений
Сгенерированы и сохранены тестовые изображения всех возможных форматов (`png`, `tiff`, `jpg`).  
Для генерации использовались функции OpenCV `cv::Mat()` и `cv::imwrite()`.

#### 2.3 Файл-список
Создан файл `task01.lst`, содержащий список имён тестовых изображений.

#### 2.4 Функция чтения списка путей
Реализована функция:
```cpp
std::vector<std::filesystem::path> get_list_of_file_paths(const std::filesystem::path& path_lst);
```
Функция использует стандартные потоки ввода-вывода C++ (`std::ifstream`) и методы `std::filesystem` для получения абсолютных путей к изображениям.

#### 2.5 Тестовое приложение `task01-01`
Приложение принимает путь к `task01.lst`, читает изображения и проверяет соответствие их формата строке-описателю.  
Результат выводится построчно в формате:  
```
filename.ext   good
filename.ext   bad, should be 0512x0512.1.uint08
```

---

### Часть 3. Генерация и коррекция изображений

#### 3.1 Генерация серой шкалы
В библиотеку добавлена функция:
```cpp
cv::Mat generate_gray_bars_8u_768x30();
```
Формирует изображение 768×30 px с вертикальными полосами шириной 3 пикселя и градацией яркости от 0 до 255.

#### 3.2 Гамма-коррекция
Добавлена функция:
```cpp
cv::Mat gamma_correction_8u(const cv::Mat& src_gray_8u, double gamma);
```
Преобразование выполняется по формуле:
\[
I' = 255 \cdot \left( \frac{I}{255} \right)^{1/\gamma}
\]

Для повышения производительности реализовано через таблицу соответствия (Look-Up Table, LUT).  
Сначала создаётся таблица `lut` размера 256, где для каждого значения `i` заранее вычисляется преобразованное значение:
```cpp
p[i] = cv::saturate_cast<uchar>(pow(i / 255.0, 1.0 / gamma) * 255.0);
```
Затем всё изображение преобразуется за одно обращение функцией `cv::LUT(src, lut, dst)`, что значительно ускоряет обработку по сравнению с построчной реализацией.

#### 3.3 Тестовое приложение `task01-02`
Приложение генерирует изображения с коэффициентами гамма (1.8, 2.0, 2.2, 2.4, 2.6), выполняет коррекцию и формирует вертикальный коллаж.  
Результат сохраняется в формате PNG.

---

1. Реализована библиотека `semcv` с основными функциями.  
2. Протестированы функции идентификации и гамма-коррекции.  
3. Проверена корректность работы LUT при различных значениях γ.  
4. Проект собирается средствами CMake, успешно использует OpenCV.

---


В ходе лабораторной работы:
- освоены методы работы с библиотекой OpenCV;  
- создано минимальное дерево сборки CMake;  
- реализованы функции анализа изображений, чтения списков и гамма-преобразования;  
- изучено использование Look-Up Table (LUT) для ускорения нелинейных преобразований;  
- проект структурирован для дальнейшего расширения.  

**Лабораторная работа №1, считаю, выполнена успешно.**
